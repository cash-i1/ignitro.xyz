<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enviroment Up!</title>
    <link rel="stylesheet" href="../../styles.css">

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <style>
        .left {
            float: left;
            width: 50%;
            padding: 20px;
        }
        .centre {
            float: centre;
            width: 45%;
            padding: 20px;
        }
        .right {
            float: right;
            width: 20%;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="left">
        <h1 style="color: greenyellow;"><b>UftLFaL</b></h1>
        <p style="font-size: x-large;">
            UftLFaL is a game where you have to run from the lava while there is lava chasing you and platformer.
        </p>


        <h2 style="color: blueviolet;">How the game works</h2>
        <p style="font-size: larger;">
            in UftLFaL, you have to run from lava that comes from the bottom or the side of the world. You have to complete very difficult parkour to get the the other side. There is a leaderboard and a custom skin system.
        </p>

        <h2 style="color: fuchsia;">Trivia</h2>
        <ul style="font-size: larger;">
            <li>UftLFaL was made when cattag and web told me to make a game about lebron and up from the lava.</li>
            <li>UftLFaL's name is inspired my run from the jeff the killer</li>
            <li>UftLFaL is made with the <a href="https://godotengine.org/">godot game engine</a></li>
        </ul>

        <h2>The leaderboard</h2>
        <table border="1">
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Score</th>
                    <th>Time</th>
                </tr>
            </thead>
                <tbody id="leaderboardBody">
                    <!-- Leaderboard data will be inserted here dynamically -->
                </tbody>
            </table> 
            <script>
            // Fetch data from the provided URL
            fetch('http://dreamlo.com/lb/653c92588f40bb11fc5689e2/pipe-asc')
                .then(response => response.text())
                .then(data => {
                // Split the data into rows
                const rows = data.split('\n');
                console.log(rows);
                // Remove the last empty row
                rows.pop();

                // Create an array to store leaderboard data
                const leaderboardData = [];

                // Parse each row and convert time format
                rows.forEach(row => {
                    const columns = row.split('|');
                    const player = columns[0];
                    const score = columns[1];
                    const timeInMilliseconds = parseInt(columns[1]); // Get time in milliseconds
                    const minutes = Math.floor(timeInMilliseconds / 6000);
                    const seconds = Math.floor((timeInMilliseconds % 61000) / 1000);
                    const milliseconds = timeInMilliseconds % 1000;
                    const time = `${minutes}:${(seconds < 10 ? '0' : '')}${seconds}:${(milliseconds < 10 ? '00' : (milliseconds < 100 ? '0' : ''))}${milliseconds}`;
                    leaderboardData.push({ player, score, time });
                });

                // Sort leaderboard data by score
                // leaderboardData.sort((a, b) => b.score - a.score);

                // Create HTML elements for the leaderboard
                const leaderboardBody = document.getElementById('leaderboardBody');
                leaderboardData.forEach(entry => {
                    const row = document.createElement('tr');
                    row.innerHTML = `<td>${entry.player}</td><td>${entry.score}</td><td>${entry.time}</td>`;
                    leaderboardBody.appendChild(row);
                });
                })
                .catch(error => console.error('Error fetching leaderboard data:', error));
            </script>


    </div>
    <div class="right">
        


        <h3>speedrunsed's world record</h3>
        <iframe width="400" height="300" src="https://www.youtube.com/embed/NEZqmCikbII" title="Up From The Lava From As Lebron Speedrun WORLD RECORD [26.402]" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

        <h2>Links</h2>
        <a class="github-button" href="https://github.com/cash-i1/Up-from-the-Lava-From-as-Lebron/releases/" data-color-scheme="no-preference: dark; light: dark; dark: dark;" data-size="large" aria-label="Download cash-i1/Enviroment-up on GitHub" style="size: 100px;">Download</a>
        
        <a href="./play/"><button class="button-15" style="font-size: 40px;">Play online</button></a>
    </div>
    <div class="centre">
        <h3>Gameplay</h3>
        <video controls autoplay muted loop width="400">
            <source src="/assets/uftlfal/uftlfal_gameplay.mp4">
        </video>
    </div>
</body>
</html>